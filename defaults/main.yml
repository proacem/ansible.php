---
# defaults file for sbaerlocher.php

php_ini_options_defaults:
  user_ini.filename:
  user_ini.cache_ttl: 300

php_language_options_defaults:
  engine: "On"
  short_open_tag: "Off"
  precision: 14
  output_buffering: 4096
  # output_handler:
  # url_rewriter.tags:
  # url_rewriter.hosts:
  zlib.output_compression: "Off"
  # zlib.output_compression_level: -1
  # zlib.output_handler:
  implicit_flush: "Off"
  unserialize_callback_func:
  serialize_precision: -1
  # open_basedir:
  disable_functions: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,
  disable_classes:
  # highlight.string: #DD0000
  # highlight.comment: #FF9900
  # highlight.keyword: #007700
  # highlight.default: #0000BB
  # highlight.html: #000000
  # ignore_user_abort: On
  # realpath_cache_size: 4096k
  # realpath_cache_ttl: 120
  zend.enable_gc: "On"
  # zend.multibyte: Off
  # zend.script_encoding:

php_miscellaneous_defaults:
  expose_php: "Off"

php_resource_limits_defaults:
  max_execution_time: 30
  max_input_time: 60
  # max_input_nesting_level: 64
  # max_input_vars: 1000
  memory_limit: 128M

php_error_handling_and_logging_defaults:
  error_reporting: "E_ALL & ~E_DEPRECATED & ~E_STRICT"
  display_errors: "Off"
  display_startup_errors: "Off"
  log_errors: "On"
  log_errors_max_len: 1024
  ignore_repeated_errors: "Off"
  ignore_repeated_source: "Off"
  report_memleaks: On
  # report_zend_debug: 0
  # track_errors: Off
  # xmlrpc_errors: 0
  # xmlrpc_error_number: 0
  html_errors: "On"
  # docref_root: "/phpmanual/"
  # docref_ext: .html
  # error_prepend_string: "<span style='color: #ff0000'>"
  #  error_append_string: "</span>"
  #  error_log: syslog

php_data_handling_defaults:
  # arg_separator.output: "&amp;"
  # arg_separator.input: ";&"
  variables_order: "GPCS"
  request_order: "GP"
  register_argc_argv: "Off"
  auto_globals_jit: "On"
  # enable_post_data_reading: Off
  post_max_size: 8M
  auto_prepend_file:
  auto_append_file:
  default_mimetype: "text/html"
  default_charset: "UTF-8"
  # internal_encoding:
  # input_encoding:
  # output_encoding:

php_paths_and_directories_defaults:
  # include_path: ".:/usr/share/php"
  doc_root:
  user_dir:
  #  extension_dir: "ext"
  #  sys_temp_dir: "/tmp"
  enable_dl: "Off"
  # cgi.force_redirect: 1
  # cgi.nph: 1
  # cgi.redirect_status_env:
  # cgi.fix_pathinfo:1
  # cgi.discard_path:1
  # fastcgi.impersonate: 1
  # fastcgi.logging: 0
  # cgi.rfc2616_headers: 0
  # cgi.check_shebang_line:1

php_file_uploads_defaults:
  file_uploads: "On"
  # upload_tmp_dir:
  upload_max_filesize: 2M
  max_file_uploads: 20

php_fopen_wrappers_defaults:
  allow_url_fopen: "On"
  allow_url_include: "Off"
  # from:"john@doe.com"
  # user_agent:"PHP"
  default_socket_timeout: 60
  # auto_detect_line_endings: "Off"

php_fpm_global_defaults:
  # pid: "/run/php/php{{ php_version }}-fpm.pid"
  error_log: "/var/log/php{{ php_version }}-fpm.log"
  # syslog.facility: daemon
  # syslog.ident: php-fpm
  # log_level: notice
  emergency_restart_threshold: 10
  emergency_restart_interval: 1m
  process_control_timeout: 10s
  # process.max: 128
  #  process.priority: -19
  # daemonize: yes
  # rlimit_files: 1024
  # rlimit_core: 0
  # events.mechanism: epoll
  # systemd_interval: 10

php_module_cli_defaults:
  cli_server.color: "On"

php_module_date_defaults:
  date.timezone: "Europe/Zurich"
  # date.default_latitude: 31.7667
  # date.default_longitude: 35.2333
  # date.sunrise_zenith: 90.583333
  # date.sunset_zenith: 90.583333

php_module_filter_defaults:
  # filter.default: unsafe_raw
  # filter.default_flags:

php_module_iconv_defaults:
  # iconv.input_encoding:
  # iconv.internal_encoding:
  # iconv.output_encoding:

php_module_intl_defaults:
  # intl.default_locale:
  # intl.error_level: E_WARNING
  # intl.use_exceptions: 0

php_module_sqlite3_defaults:
  # sqlite3.extension_dir:

php_module_pcre_defaults:
  # pcre.backtrack_limit: 100000
  # pcre.recursion_limit: 100000
  # pcre.jit: 1

php_module_pdo_defaults:
  # pdo_odbc.connection_pooling: strict
  # pdo_odbc.db2_instance_name

php_module_pdo_mysql_defaults:
  pdo_mysql.cache_size: 2000
  pdo_mysql.default_socket:

php_module_phar_defaults:
  # phar.readonly: "On"
  # phar.require_hash: "On"
  # phar.cache_list:

php_module_mail_functio_defaults:
  SMTP: localhost
  smtp_port: 25
  # sendmail_from: me@example.com
  # sendmail_path:
  # mail.force_extra_parameters:
  mail.add_x_header: "Off"
  # mail.log: syslog

php_module_odbc_defaults:
  # odbc.default_db   :  Not yet implemented
  # odbc.default_user :  Not yet implemented
  # odbc.default_pw   :  Not yet implemented
  # odbc.default_cursortype
  odbc.allow_persistent: "On"
  odbc.check_persistent: "On"
  odbc.max_persistent: -1
  odbc.max_links: -1
  odbc.defaultlrl: 4096
  odbc.defaultbinmode: 1
  # birdstep.max_links: -1

php_module_interbase_defaults:
  ibase.allow_persistent: 1
  ibase.max_persistent: -1
  ibase.max_links: -1
  # ibase.default_db:
  # ibase.default_user:
  # ibase.default_password:
  # ibase.default_charset:
  ibase.timestampformat: "%Y-%m-%d %H:%M:%S"
  ibase.dateformat: "%Y-%m-%d"
  ibase.timeformat: "%H:%M:%S"

php_module_mysqli_defaults:
  mysqli.max_persistent: -1
  # mysqli.allow_local_infile: "On"
  mysqli.allow_persistent: "On"
  mysqli.max_links: -1
  mysqli.cache_size: 2000
  mysqli.default_port: 3306
  mysqli.default_socket:
  mysqli.default_host:
  mysqli.default_user:
  mysqli.default_pw:
  mysqli.reconnect: "Off"

php_module_mysqlnd_defaults:
  mysqlnd.collect_statistics: "On"
  mysqlnd.collect_memory_statistics: "Off"
  # mysqlnd.debug:
  # mysqlnd.log_mask: 0
  # mysqlnd.mempool_default_size: 16000
  # mysqlnd.net_cmd_buffer_size: 2048
  # mysqlnd.net_read_buffer_size: 32768
  # mysqlnd.net_read_timeout: 31536000
  # mysqlnd.sha256_server_public_key:

php_module_OCI8_defaults:
  # oci8.privileged_connect: "Off"
  # oci8.max_persistent: -1
  # oci8.persistent_timeout: -1
  # oci8.ping_interval: 60
  # oci8.connection_class:
  # oci8.events: Off
  # oci8.statement_cache_size: 20
  # oci8.default_prefetch: 100
  # oci8.old_oci_close_semantics: "Off"

php_module_PostgreSQL_defaults:
  pgsql.allow_persistent: "On"
  pgsql.auto_reset_persistent: "Off"
  pgsql.max_persistent: -1
  pgsql.max_links: -1
  pgsql.ignore_notice: 0
  pgsql.log_notice: 0

php_module_bcmath_defaults:
  bcmath.scale: 0

php_module_browscap_defaults:
  # browscap: extra/browscap.ini

php_module_session_defaults:
  session.save_handler: files
  # session.save_path: "/var/lib/php/sessions"
  session.use_strict_mode: 0
  session.use_cookies: 1
  # session.cookie_secure:
  session.use_only_cookies: 1
  session.name: PHPSESSID
  session.auto_start: 0
  session.cookie_lifetime: 0
  session.cookie_path: /
  session.cookie_domain:
  session.cookie_httponly:
  session.serialize_handler: php
  session.gc_probability: 0
  session.gc_divisor: 1000
  session.gc_maxlifetime: 1440
  session.referer_check:
  session.cache_limiter: nocache
  session.cache_expire: 180
  session.use_trans_sid: 0
  session.sid_length: 26
  session.trans_sid_tags: "a=href,area=href,frame=src,form="
  # session.trans_sid_hosts:""
  session.sid_bits_per_character: 5
  # session.upload_progress.enabled: "On"
  # session.upload_progress.cleanup: "On"
  # session.upload_progress.prefix: "upload_progress_"
  # session.upload_progress.name: "PHP_SESSION_UPLOAD_PROGRESS"
  # session.upload_progress.freq:  "1%"
  # session.upload_progress.min_freq: "1"
  # session.lazy_write: "On"

php_module_assertion_defaults:
  zend.assertions: -1
  # assert.active: "On"
  # assert.exception: "On"
  # assert.warning: "On"
  # assert.bail: "Off"
  # assert.callback: 0
  # assert.quiet_eval: 0

php_module_com_defaults:
  # com.typelib_file:
  # com.allow_dcom: "true"
  # com.autoregister_typelib: "true"
  # com.autoregister_casesensitive: "false"
  # com.autoregister_verbose: "true"
  # com.code_page:

php_module_mbstring_defaults:
  # mbstring.language: Japanese
  # mbstring.internal_encoding:
  # mbstring.http_input:
  # mbstring.http_output:
  # mbstring.encoding_translation: "Off"
  # mbstring.detect_order: auto
  # mbstring.substitute_character: none
  # mbstring.func_overload: 0
  # mbstring.strict_detection: "On"
  # mbstring.http_output_conv_mimetype:

php_module_gd_defaults:
  # gd.jpeg_ignore_warning: 1

php_module_exif_defaults:
  # exif.encode_unicode: ISO-8859-15
  # exif.decode_unicode_motorola: UCS-2BE
  # exif.decode_unicode_intel   : UCS-2LE
  # exif.encode_jis:
  # exif.decode_jis_motorola: JIS
  # exif.decode_jis_intel   : JIS

php_module_Tidy_defaults:
  # tidy.default_config: /usr/local/lib/php/default.tcfg
  tidy.clean_output: "Off"

php_module_soap_defaults:
  soap.wsdl_cache_enabled: 1
  soap.wsdl_cache_dir: "/tmp"
  soap.wsdl_cache_ttl: 86400
  soap.wsdl_cache_limit: 5

php_module_sysvshm_defaults:
  # sysvshm.init_mem: 10000

php_module_ldap_defaults:
  ldap.max_links: -1

php_module_dba_defaults:
  # dba.default_handler:

php_module_opcache_defaults:
  # opcache.enable:1
  # opcache.enable_cli:0
  # opcache.memory_consumption:128
  # opcache.interned_strings_buffer:8
  # opcache.max_accelerated_files:10000
  # opcache.max_wasted_percentage:5
  # opcache.use_cwd:1
  # opcache.validate_timestamps:1
  # opcache.revalidate_freq:2
  # opcache.revalidate_path:0
  # opcache.save_comments:1
  # opcache.enable_file_override:0
  # opcache.optimization_level:0xffffffff
  # opcache.inherited_hack:1
  # opcache.dups_fix:0
  # opcache.blacklist_filename:
  # opcache.max_file_size:0
  # opcache.consistency_checks:0
  # opcache.force_restart_timeout:180
  # opcache.error_log:
  # opcache.log_verbosity_level:1
  # opcache.preferred_memory_model:
  # opcache.protect_memory:0
  # opcache.restrict_api:
  # opcache.mmap_base:
  # opcache.file_cache:
  # opcache.file_cache_only:0
  # opcache.file_cache_consistency_checks:1.
  # opcache.file_cache_fallback:1
  # opcache.huge_code_pages:1
  # opcache.validate_permission:0
  # opcache.validate_root:0
  # opcache.opt_debug_level:0

php_module_curl_defaults:
  # curl.cainfo:

php_module_openssl_defaults:
  # openssl.cafile:
  # openssl.capath:

php_fpm_pool:
  security.limit_extensions: .php
  user: "{{ item.site | default(php_default_users) }}"
  group: "{{ php_default_group }}"
  rlimit_files: "{{ item.php.rlimit_files | default('131072') }}"
  rlimit_core: unlimited
  listen: "{{ php_pool_sock_dir }}/{{ item.site }}.sock"
  listen.allowed_clients: 127.0.0.1
  listen.owner: "{{ item.site | default(php_default_users) }}"
  listen.group: "{{ php_default_group }}"
  listen.mode: 0660
  listen.backlog: "{{ item.php.listenbacklog | default('65535') }}"
  pm.max_children: "{{ item.php.pmmax_children | default('32') }}"
  pm.max_requests: "{{ item.php.pmmax_requests | default('1000') }}"
  pm: ondemand
  pm.process_idle_timeout: 15s
  pm.status_path: "/{{ item.site | hash('md5') }}/php/status"
  ping.path: "/{{ item.site | hash('md5') }}/php/ping"
  ping.response: pong
  # slowlog: /home/sites/{{ item.site }}/pub/log/php-fpm-slow.log
  # request_slowlog_timeout: 5s
  request_terminate_timeout: 180s
  catch_workers_output: "yes"
  env[HOSTNAME]: $HOSTNAME
  # env[PATH]: /usr/local/bin:/usr/bin:/bin
  # env[TMP]: /home/sites/{{ item.site }}/pub/tmp
  # env[TMPDIR]: /home/sites/{{ item.site }}/pub/tmp
  # env[TEMP]: /home/sites/{{ item.site }}/pub/tmp
